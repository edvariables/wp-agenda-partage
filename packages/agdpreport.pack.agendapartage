{"0":{"post":{"ID":5135,"post_author":"2","post_date":"2025-12-15 15:44:19","post_date_gmt":"2025-12-15 14:44:19","post_content":"","post_title":"Test massif par shortcode","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"test-massif-par-shortcode","to_ping":"","pinged":"","post_modified":"2025-12-20 12:38:36","post_modified_gmt":"2025-12-20 11:38:36","post_content_filtered":"","post_parent":5134,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=5135","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT report.ID, report.post_title, report.post_parent\r\n, '' AS ShortCode\r\nFROM @.posts report\r\nWHERE report.ID != @REPORTID\r\nAND report.post_type = 'agdpreport'\r\nAND report.post_status = 'publish'\r\nLIMIT :LIMIT_START, :LIMIT_COUNT%d","sql_variables":"{\"LIMIT_START\":{\"type\":\"integer\",\"value\":\"0\"},\"LIMIT_COUNT\":{\"type\":\"integer\",\"value\":\"1000\"},\"use_ajax_toggler\":{\"type\":\"bool\",\"is_private\":\"1\",\"sql_source\":\"report_css\",\"value\":true}}","report_admin_no_escape":"0","report_admin_no_render":"0","report_show_sql":"0","report_show_vars":"0","report_show_sql_public":"0","report_show_caption":"0","report_show_footer":"0","report_show_indexes":"0","report_show_table_designer":"1","report_css":"table {\r\n  font-size: smaller;\r\n}\r\ntable \u003E tbody  tr:not(.report_table_designer) {\r\n  max-height: 8em;\r\n  float: left;\r\n  clear: both;\r\n  vertical-align: top;\r\n  overflow: hidden; \r\n  border-bottom: solid 1px !important;\r\n}\r\ntable \u003E tbody \u003E tr:not(.report_table_designer) td \u003E :not(a):not(.agdpreport.error):not(.toggle-trigger) {\r\n  display: none;\r\n}\r\ntable .agdpreport.error * {\r\n  background-color: darkkhaki;\r\n}","sql_before_render":"SET @use_ajax_toggler = :use_ajax_toggler;","table_render":"{\"caption\":{\"script\":\"@REPORTTITLE\"},\"columns\":{\"post_title\":{\"thead_script\":\"Post\",\"script\":\"CONCAT('\u003Ca href=\\\\\\\"/wp-admin/post.php?action=edit&post=', `ID`, '\\\\\\\"\u003E', post_title, ' #', ID, '\u003C/a\u003E')\"},\"ShortCode\":{\"thead_script\":\"IF(@use_ajax_toggler, 'Ajax', 'Shortcode')\",\"script\":\"IF(@use_ajax_toggler, \\nREPORT_TOGGLE(\\n  `ID`\\n  , `post_title`\\n  , JSON_OBJECT('LIMIT', 5)\\n)\\n, CONCAT('[report ', `ID`, ']')\\n)\"}}}","shortcode":"[report 5135|/base/rapports/rapports_copie :use_ajax_toggler=0 :LIMIT_START=0 :LIMIT_COUNT=999]"},"terms":{"report_style":{"88":"sans-en-tetes-de-colonnes","96":"table-sans-bordure"}}},"1":{"post":{"ID":5134,"post_author":"2","post_date":"2025-12-15 15:41:11","post_date_gmt":"2025-12-15 14:41:11","post_content":"","post_title":"Rapports","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"rapports","to_ping":"","pinged":"","post_modified":"2025-12-15 15:41:11","post_modified_gmt":"2025-12-15 14:41:11","post_content_filtered":"","post_parent":4826,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=5134","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"","sql_variables":"","report_admin_no_escape":"0","report_admin_no_render":"0","report_show_sql":"0","report_show_vars":"0","report_show_sql_public":"0","report_show_caption":"0","report_show_footer":"0","report_show_indexes":"0","report_show_table_designer":"0","report_css":"","sql_before_render":"","table_render":"","shortcode":"[report 5134|/ ]"}},"2":{"post":{"ID":5064,"post_author":"2","post_date":"2025-12-01 15:27:56","post_date_gmt":"2025-12-01 14:27:56","post_content":"","post_title":"Site \u003E Options","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"options","to_ping":"","pinged":"","post_modified":"2025-12-11 13:47:27","post_modified_gmt":"2025-12-11 12:47:27","post_content_filtered":"","post_parent":4791,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=5064","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT *\r\nFROM @.options `option`\r\nWHERE ( :name = '' OR `option_name` LIKE :name%K )\r\nAND ( :value = '' OR `option_value` LIKE :value%K )\r\nLIMIT :LIMIT_FROM, :LIMIT","sql_variables":"{\"name\":{},\"value\":{\"value\":\"a:%}\"},\"LIMIT_FROM\":{\"type\":\"integer\",\"value\":\"0\"},\"LIMIT\":{\"type\":\"integer\",\"value\":\"20\"}}","report_admin_no_escape":"1","report_admin_no_render":"0","report_show_sql":"1","report_show_vars":"0","report_show_caption":"0","report_show_footer":"0","report_show_indexes":"0","report_show_table_designer":"1","report_css":"","table_render":"{\"columns\":{\"option_id\":{\"label\":\"option_id\",\"visible\":true,\"index\":0,\"script\":\"`option_id`\"},\"option_name\":{\"label\":\"option_name\",\"visible\":true,\"index\":1,\"script\":\"`option_name`\"},\"option_value\":{\"label\":\"option_value\",\"visible\":true,\"index\":2,\"script\":\"IF( `option_value` LIKE 'a:%}',\\nCONCAT('\u003Cpre\u003E', JSON_PRETTY(getPhpSerializedArrayAsJson(`option_value`)), '\u003C/pre\u003E')\\n,\\n`option_value`\\n)\"},\"autoload\":{\"label\":\"autoload\",\"visible\":true,\"index\":3,\"script\":\"`autoload`\"}}}","report_show_sql_public":"0","sql_before_render":"","shortcode":"[report 5064|/base/site/options :name= :value=\"a:%}\" :LIMIT_FROM=0 :LIMIT=20]","is_package_root":null}},"3":{"post":{"ID":5061,"post_author":"2","post_date":"2025-12-01 13:43:06","post_date_gmt":"2025-12-01 12:43:06","post_content":"","post_title":"Post \u003E Meta Value","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"meta_value","to_ping":"","pinged":"","post_modified":"2025-12-07 16:25:58","post_modified_gmt":"2025-12-07 15:25:58","post_content_filtered":"","post_parent":4800,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=5061","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SET @POST_ID = IF( @POST_ID IS NULL, IF( :post_id = '', @POSTID, :post_id) , @POST_ID);\r\nSET @META_KEY = IF( @META_KEY IS NULL, :meta_key, @META_KEY);\r\nSELECT meta.meta_key, meta.meta_value\r\nFROM @.posts post\r\nLEFT JOIN @.postmeta meta\r\nON post.ID = meta.post_id\r\nAND (@META_KEY = '' || meta.meta_key = @META_KEY )\r\nWHERE post.ID = @POST_ID\r\nORDER BY meta_key :ASC\r\nLIMIT :LIMIT%d","sql_variables":"{\"post_id\":{\"type\":\"report\",\"value\":\"5103\"},\"meta_key\":{},\"ASC\":{\"type\":\"asc_desc\",\"options\":\"ASCnDESC\",\"value\":\"ASC\"},\"LIMIT\":{\"type\":\"integer\",\"value\":\"999\"}}","report_show_sql":"1","report_admin_no_escape":"0","report_admin_no_render":"0","report_show_vars":"0","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"0","report_css":"","table_render":"","report_show_footer":"0","report_show_sql_public":"0","sql_before_render":"","shortcode":"[report 5061|/base/post/meta_value :post_id=3612 :meta_key= :ASC=\"ASC\" :LIMIT=999]"}},"4":{"post":{"ID":5060,"post_author":"2","post_date":"2025-12-01 13:31:37","post_date_gmt":"2025-12-01 12:31:37","post_content":"","post_title":"Site \u003E Post_types","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"post_types","to_ping":"","pinged":"","post_modified":"2025-12-18 21:56:55","post_modified_gmt":"2025-12-18 20:56:55","post_content_filtered":"","post_parent":4791,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=5060","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT post_type, COUNT(`ID`) AS children\r\nFROM @.posts post\r\nGROUP BY post_type\r\nORDER BY children DESC","sql_variables":"{}","report_show_sql":"0","report_css":"","report_admin_no_escape":"1","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"1","table_columns":"","report_admin_no_render":"0","report_show_vars":"0","table_render":"{\"columns\":{\"post_type\":{\"thead_script\":\"post_type\",\"script\":\"REPORT_TOGGLE('/base/post/children', CONCAT(`post_type`, IF(`children`\u003E1, 's', ''), ' (', `children`, ')'), JSON_OBJECT(':PARENT_POST', 0, 'post_type', `post_type`, 'LIMIT', 99))\"}}}","report_show_footer":"0","report_show_sql_public":"0","shortcode":"[report 5060|/base/site/post_types ]","sql_before_render":""}},"5":{"post":{"ID":5055,"post_author":"2","post_date":"2025-11-30 10:35:28","post_date_gmt":"2025-11-30 09:35:28","post_content":"","post_title":"Post \u003E Enfants","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"children","to_ping":"","pinged":"","post_modified":"2025-12-18 21:54:27","post_modified_gmt":"2025-12-18 20:54:27","post_content_filtered":"","post_parent":4800,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=5055","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SET @PARENT_POST = IF(:PARENT_POST IS NULL OR :PARENT_POST = '', @POSTID, :PARENT_POST );\r\nSELECT post.ID, post.post_name, post.post_title, post.post_date, post.guid, post.post_type, parent_post.post_title AS parent_title, COUNT(child_post.ID) AS children\r\nFROM @.posts post\r\nLEFT JOIN @.posts parent_post\r\nON parent_post.ID = @PARENT_POST\r\nLEFT JOIN @.posts child_post\r\nON post.ID = child_post.post_parent\r\nAND ( :post_status = '' OR child_post.post_status IN ( :post_status%IN ) )\r\nAND ( ( :post_type = '' AND child_post.post_type = post.post_type )\r\n    OR child_post.post_type = :post_type  )\r\nWHERE ( :post_status = '' OR post.post_status IN ( :post_status%IN ) )\r\nAND ( ( :post_type = '' AND NOT parent_post.`ID` IS NULL AND parent_post.post_type = post.post_type )\r\n    OR post.post_type = :post_type  )\r\nAND post.post_parent = @PARENT_POST\r\nGROUP BY post.ID, post.post_name, post.post_title, post.post_date, post.guid, parent_post.post_title\r\nLIMIT :LIMIT%d","sql_variables":"{\"PARENT_POST\":{\"value\":\"0\"},\"post_status\":{\"type\":\"checkboxes\",\"options\":\"publish: Publié(e)\\npending: En attente\\ndraft: Brouillon\\ntrash: Corbeille\",\"value\":\"publish\\npending\\ndraft\"},\"post_type\":{\"value\":\"agdpreport\"},\"LIMIT\":{\"type\":\"integer\",\"value\":\"99\"}}","report_show_sql":"0","report_css":"table label{\r\n  display: inline-block;\r\n}\r\ntable .view-report {\r\n  opacity: 90%;\r\n}","report_admin_no_escape":"1","report_admin_no_render":"0","report_show_vars":"0","report_show_caption":"0","report_show_footer":"0","report_show_indexes":"0","report_show_table_designer":"1","table_render":"{\"columns\":{\"post_title\":{\"thead_script\":\"post_title\",\"class\":\"col-width-min\",\"script\":\"CONCAT(\\nREPORT_TOGGLE(\\n  IF( `children` \u003E 0, @REPORTID, 0)\\n  , CONCAT(\\n    CONCAT('\u003Ca href=\\\\\\\"/wp-admin/post.php?post=', `ID`, '&action=edit\\\\\\\"\u003E',DASHICON('edit'), '\u003C/a\u003E')\\n    , ' '\\n    , CONCAT('\u003Ca href=\\\\\\\"', `guid`, '\\\\\\\"\u003E',DASHICON('admin-page'), '\u003C/a\u003E')\\n    , `post_title`\\n    , IF( `children` \u003E 0, CONCAT(' (', `children`, ')'), '')\\n  )\\n  , IF( `children` \u003E 0, JSON_OBJECT('PARENT_POST', `ID`, 'LIMIT', 99, 'post_type', ''), NULL )\\n)\\n, IF( `post_type` = 'agdpreport'\\n\\t, CONCAT(\\n            '\u003Cspan class=\\\\\\\"view-report\\\\\\\"\u003E'\\n\\t    , REPORT_TOGGLE(\\n\\t\\t`ID`\\n\\t\\t, DASHICON('list-view')\\n\\t\\t, JSON_OBJECT('LIMIT', 99)\\n\\t)\\n        , '\u003Cspan class=\\\\\\\"toggle-container\\\\\\\"\u003E\u003C/span\u003E'\\n        , '\u003C/span\u003E'\\n\\t)\\n, '')\\n, '\u003Cdiv class=\\\\\\\"toggle-container\\\\\\\"\u003E\u003C/div\u003E'\\n)\"}}}","shortcode":"[report 5055|/base/post/children :post_status=\"publish|pending|draft\" :PARENT_POST=4802 :LIMIT=99]","report_show_sql_public":"0","sql_before_render":"","is_package_root":null},"terms":{"report_style":{"88":"sans-en-tetes-de-colonnes","96":"table-sans-bordure"}}},"6":{"post":{"ID":5047,"post_author":"2","post_date":"2025-11-27 19:20:20","post_date_gmt":"2025-11-27 18:20:20","post_content":"","post_title":"Évènement","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"evenement","to_ping":"","pinged":"","post_modified":"2025-12-15 16:44:46","post_modified_gmt":"2025-12-15 15:44:46","post_content_filtered":"","post_parent":4826,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=5047","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SET @x = :post_type;\r\nSELECT post.*\r\nFROM :post post\r\nORDER BY post.:ORDER_BY :ASC\r\nLIMIT :LIMIT%d;","sql_variables":"{\"post_type\":{\"value\":\"agdpevent\"},\"post\":{\"type\":\"report_sql\",\"value\":\"/base/post\"},\"ORDER_BY\":{\"type\":\"column\",\"value\":\"post_date\"},\"ASC\":{\"type\":\"asc_desc\",\"options\":\"ASC\\nDESC\",\"value\":\"DESC\"},\"LIMIT\":{\"type\":\"integer\",\"value\":\"4\"}}","report_show_sql":"1","report_css":"","report_admin_no_escape":"1","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"1","report_admin_no_render":"1","report_show_vars":"1","table_render":"{\"caption\":{\"script\":\"@REPORTTITLE\"},\"columns\":{\"ID\":{\"label\":\"post_id\",\"visible\":true,\"index\":0,\"script\":\"CONCAT('\u003Ca href=\\\\\\\"/wp-admin/post.php?action=edit&post=', `ID`, '\\\\\\\"\u003E\u003Cspan class=\\\\\\\"dashicons-before dashicons-edit\\\\\\\"\u003E\u003C/span\u003E', `ID`, '\u003C/a\u003E')\"},\"post_author\":{\"label\":\"post_author\",\"visible\":true,\"index\":1,\"script\":\"`post_author`\"},\"post_date\":{\"label\":\"post_date\",\"visible\":true,\"index\":2,\"script\":\"`post_date`\"},\"post_date_gmt\":{\"label\":\"post_date_gmt\",\"visible\":true,\"index\":3,\"script\":\"`post_date_gmt`\"},\"post_content\":{\"label\":\"post_content\",\"visible\":true,\"index\":4,\"script\":\"`post_content`\"},\"post_title\":{\"label\":\"post_title\",\"visible\":true,\"index\":5,\"script\":\"`post_title`\"},\"post_excerpt\":{\"label\":\"post_excerpt\",\"visible\":true,\"index\":6,\"script\":\"`post_excerpt`\"},\"post_status\":{\"label\":\"post_status\",\"visible\":true,\"index\":7,\"script\":\"`post_status`\"},\"comment_status\":{\"label\":\"comment_status\",\"visible\":true,\"index\":8,\"script\":\"`comment_status`\"},\"ping_status\":{\"label\":\"ping_status\",\"visible\":true,\"index\":9,\"script\":\"`ping_status`\"},\"post_password\":{\"label\":\"post_password\",\"visible\":true,\"index\":10,\"script\":\"`post_password`\"},\"post_name\":{\"label\":\"post_name\",\"visible\":true,\"index\":11,\"script\":\"`post_name`\"},\"to_ping\":{\"label\":\"to_ping\",\"visible\":true,\"index\":12,\"script\":\"`to_ping`\"},\"pinged\":{\"label\":\"pinged\",\"visible\":true,\"index\":13,\"script\":\"`pinged`\"},\"post_modified\":{\"label\":\"post_modified\",\"visible\":true,\"index\":14,\"script\":\"`post_modified`\"},\"post_modified_gmt\":{\"label\":\"post_modified_gmt\",\"visible\":true,\"index\":15,\"script\":\"`post_modified_gmt`\"},\"post_content_filtered\":{\"label\":\"post_content_filtered\",\"visible\":true,\"index\":16,\"script\":\"`post_content_filtered`\"},\"post_parent\":{\"label\":\"post_parent\",\"visible\":true,\"index\":17,\"script\":\"`post_parent`\"},\"guid\":{\"label\":\"guid\",\"visible\":true,\"index\":18,\"script\":\"CONCAT('\u003Ca href=\\\"',`guid`, '\\\"\u003E',`guid`, '\u003C/a\u003E')\"},\"menu_order\":{\"label\":\"menu_order\",\"visible\":true,\"index\":19,\"script\":\"`menu_order`\"},\"post_type\":{\"label\":\"post_type\",\"visible\":true,\"index\":20,\"script\":\"`post_type`\"},\"post_mime_type\":{\"label\":\"post_mime_type\",\"visible\":true,\"index\":21,\"script\":\"`post_mime_type`\"},\"comment_count\":{\"label\":\"comment_count\",\"visible\":true,\"index\":22,\"script\":\"`comment_count`\"}}}","report_show_footer":"0","report_show_sql_public":"0","sql_before_render":"","shortcode":"[report 5047|/base/evenement :post_type=\"agdpevent\" :post=4800 :ORDER_BY=\"post_date\" :ASC=\"DESC\" :LIMIT=4]"},"terms":{"report_style":{"84":"lignes-alternees"}}},"7":{"post":{"ID":4826,"post_author":"2","post_date":"2024-11-12 10:45:10","post_date_gmt":"2024-11-12 09:45:10","post_content":"","post_title":"Base","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"base","to_ping":"","pinged":"","post_modified":"2025-12-08 17:16:07","post_modified_gmt":"2025-12-08 16:16:07","post_content_filtered":"","post_parent":0,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=4826","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT post.ID\r\n, CONCAT('\u003Ca href=\\\"/wp-admin/post.php?post=', post.ID, '&action=edit\\\"\u003E', post.post_title, '\u003C/a\u003E') AS Tutoriel\r\n, post.post_status\r\n, post.post_modified\r\n, GROUP_CONCAT(CONCAT('\u003Ca href=\\\"/wp-admin/post.php?post=', subpost.ID, '&action=edit\\\"\u003E', subpost.post_title, '\u003C/a\u003E') SEPARATOR '\u003Cbr\u003E') AS 'Sous-rapports'\r\nFROM @.posts post\r\nLEFT JOIN @.posts subpost\r\nON subpost.post_parent = post.ID\r\nWHERE ( :post_status = '' OR post.post_status IN ( :post_status%IN ) )\r\nAND @REPORTID = post.post_parent\r\nGROUP BY post.ID\r\n, CONCAT('\u003Ca href=\\\"/wp-admin/post.php?post=', post.ID, '&action=edit\\\"\u003E', post.post_title, '\u003C/a\u003E')\r\n, post.post_status\r\n, post.post_modified\r\nORDER BY post.:ORDER_BY :ASC\r\nLIMIT :LIMIT%d","sql_variables":"{\"post_status\":{\"type\":\"checkboxes\",\"options\":\"publish: Publié(e)\\npending: En attente\\ndraft: Brouillon\\ntrash: Corbeille\",\"value\":\"publish\\npending\\ndraft\"},\"ORDER_BY\":{\"type\":\"field\",\"value\":\"post_type\"},\"ASC\":{\"type\":\"asc_desc\",\"options\":\"ASC\\nDESC\",\"value\":\"DESC\"},\"LIMIT\":{\"type\":\"integer\",\"value\":\"99\"}}","report_show_sql":"0","report_css":"","report_admin_no_escape":"0","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"0","table_columns":"","report_admin_no_render":"0","report_show_vars":"0","report_show_sql_public":"0","report_show_footer":"0","sql_before_render":"","table_render":"","shortcode":"[report 4826|/base :post_status=\"publish|pending|draft\" :ORDER_BY=\"post_type\" :ASC=\"DESC\" :LIMIT=99]","is_package_root":"1"},"terms":{"report_style":{"84":"lignes-alternees"}}},"8":{"post":{"ID":4791,"post_author":"2","post_date":"2024-11-01 16:48:02","post_date_gmt":"2024-11-01 15:48:02","post_content":"","post_title":"Site","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"site","to_ping":"","pinged":"","post_modified":"2025-12-01 13:30:03","post_modified_gmt":"2025-12-01 12:30:03","post_content_filtered":"","post_parent":4826,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=4791","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT site.*, meta_name.meta_value AS 'site_name', meta_url.meta_value AS 'site_url'\r\nFROM @.site site\r\nINNER JOIN @.sitemeta meta_name\r\nON site.id = meta_name.site_id\r\nAND meta_name.meta_key = 'site_name'\r\nINNER JOIN @.sitemeta meta_url\r\nON site.id = meta_url.site_id\r\nAND meta_url.meta_key = 'siteurl'\r\nWHERE site.id = @BLOGID","sql_variables":"{}","report_show_sql":"0","report_css":"","report_admin_no_escape":"0","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"0","table_columns":"","report_admin_no_render":"0","report_show_vars":"0","table_render":"","report_show_footer":"0"}},"9":{"post":{"ID":4750,"post_author":"3","post_date":"2024-10-31 21:25:21","post_date_gmt":"2024-10-31 20:25:21","post_content":"","post_title":"Post \u003E Commentaires \u003E Posted_data","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"post-commentaires-posted_data","to_ping":"","pinged":"","post_modified":"2024-11-02 00:00:24","post_modified_gmt":"2024-11-01 23:00:24","post_content_filtered":"","post_parent":4667,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=4750","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT meta.comment_id\r\n, IF(meta.meta_key LIKE 'posted\\_data\\_%', SUBSTRING(meta.meta_key, LENGTH('posted_data_%')), meta.meta_key) AS meta_key\r\n, meta_value\r\n, comment_date\r\n, CONCAT(comment.comment_author, '\u003C', comment.comment_author_email, '\u003E') AS Auteur\r\nFROM @.commentmeta meta\r\nINNER JOIN @.comments comment\r\nON meta.comment_id = comment.comment_id\r\nINNER JOIN @.posts post\r\nON post.ID = comment.comment_post_ID\r\nWHERE ( :post_id = '' OR post.ID = :post_id )\r\nAND ( :meta_key = '' || meta.meta_key = :meta_key)\r\nAND ( meta.meta_key LIKE 'posted_data_%' OR meta.meta_key IN ('from', 'title') )\r\nORDER BY meta.comment_id, meta.meta_key ","sql_variables":"{\"post_id\":{\"type\":\"forum\",\"value\":\"/village-ideal\"},\"meta_key\":{\"type\":\"text\"}}","report_show_sql":"1","report_css":""}},"10":{"post":{"ID":4675,"post_author":"2","post_date":"2024-10-26 19:07:31","post_date_gmt":"2024-10-26 17:07:31","post_content":"","post_title":"Post si meta","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"post-si-meta","to_ping":"","pinged":"","post_modified":"2025-12-15 16:18:13","post_modified_gmt":"2025-12-15 15:18:13","post_content_filtered":"","post_parent":4800,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=4675","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT meta.meta_value, post.*\r\nFROM @.posts post\r\nINNER JOIN @.postmeta meta\r\nON post.ID = meta.post_id\r\nAND ( :meta_key = '' OR meta.meta_key = :meta_key)\r\nWHERE ( :post_id = '' OR post.ID = :post_id )\r\nAND ( :post_status = '' OR post.post_status IN ( :post_status%IN ) )\r\nAND ( :post_type = '' OR :post_type = post.post_type )\r\nAND ( :meta_value = '' OR meta.meta_value LIKE :meta_value%K)\r\nORDER BY post.:ORDER_BY :ASC\r\nLIMIT :LIMIT%d","sql_variables":"{\"meta_key\":{\"value\":\"sql\"},\"post_id\":{\"type\":\"forum\"},\"post_status\":{\"type\":\"checkboxes\",\"options\":\"publish: Publié(e)\\npending: En attente\\ndraft: Brouillon\\ntrash: Corbeille\",\"value\":\"publish\\npending\\ndraft\"},\"post_type\":{\"type\":\"radio\",\"options\":\":(tous)\\npost: Article\\npage: Page\\nagdpreport: Rapport\",\"value\":\"agdpreport\"},\"meta_value\":{\"value\":\"@DBR\"},\"ORDER_BY\":{\"type\":\"field\",\"value\":\"post_type\"},\"ASC\":{\"type\":\"asc_desc\",\"options\":\"ASCnDESC\",\"value\":\"ASC\"},\"LIMIT\":{\"type\":\"integer\",\"value\":\"4\"}}","report_show_sql":"1","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"1","report_css":"th.code {\r\n  font-family: inherit;\r\n}","report_admin_no_escape":"1","table_render":"{\"caption\":{\"script\":\"@REPORTTITLE\"},\"columns\":{\"meta_value\":{\"label\":\"meta_value\",\"visible\":true,\"index\":0,\"class\":\"code\",\"script\":\"IF( LENGTH(`meta_value`) \u003E 100, CONCAT(LEFT(`meta_value`, 100), '...'), `meta_value`)\"},\"ID\":{\"label\":\"ID\",\"visible\":true,\"index\":1,\"script\":\"CONCAT('\u003Ca href=\\\\\\\"/wp-admin/post.php?action=edit&post=', `ID`, '\\\\\\\"\u003Eéditer\u003C/a\u003E')\"},\"post_author\":{\"label\":\"post_author\",\"visible\":true,\"index\":2,\"script\":\"`post_author`\"},\"post_date\":{\"label\":\"post_date\",\"visible\":true,\"index\":3,\"script\":\"`post_date`\"},\"post_date_gmt\":{\"label\":\"post_date_gmt\",\"visible\":true,\"index\":4,\"script\":\"`post_date_gmt`\"},\"post_content\":{\"label\":\"post_content\",\"visible\":true,\"index\":5,\"script\":\"`post_content`\"},\"post_title\":{\"label\":\"post_title\",\"visible\":true,\"index\":6,\"script\":\"`post_title`\"},\"post_excerpt\":{\"label\":\"post_excerpt\",\"visible\":true,\"index\":7,\"script\":\"`post_excerpt`\"},\"post_status\":{\"label\":\"post_status\",\"visible\":true,\"index\":8,\"script\":\"`post_status`\"},\"comment_status\":{\"label\":\"comment_status\",\"visible\":true,\"index\":9,\"script\":\"`comment_status`\"},\"ping_status\":{\"label\":\"ping_status\",\"visible\":true,\"index\":10,\"script\":\"`ping_status`\"},\"post_password\":{\"label\":\"post_password\",\"visible\":true,\"index\":11,\"script\":\"`post_password`\"},\"post_name\":{\"label\":\"post_name\",\"visible\":true,\"index\":12,\"script\":\"`post_name`\"},\"to_ping\":{\"label\":\"to_ping\",\"visible\":true,\"index\":13,\"script\":\"`to_ping`\"},\"pinged\":{\"label\":\"pinged\",\"visible\":true,\"index\":14,\"script\":\"`pinged`\"},\"post_modified\":{\"label\":\"post_modified\",\"visible\":true,\"index\":15,\"script\":\"`post_modified`\"},\"post_modified_gmt\":{\"label\":\"post_modified_gmt\",\"visible\":true,\"index\":16,\"script\":\"`post_modified_gmt`\"},\"post_content_filtered\":{\"label\":\"post_content_filtered\",\"visible\":true,\"index\":17,\"script\":\"`post_content_filtered`\"},\"post_parent\":{\"label\":\"post_parent\",\"visible\":true,\"index\":18,\"script\":\"`post_parent`\"},\"guid\":{\"label\":\"guid\",\"visible\":true,\"index\":19,\"script\":\"`guid`\"},\"menu_order\":{\"label\":\"menu_order\",\"visible\":true,\"index\":20,\"script\":\"`menu_order`\"},\"post_type\":{\"label\":\"post_type\",\"visible\":true,\"index\":21,\"script\":\"`post_type`\"},\"post_mime_type\":{\"label\":\"post_mime_type\",\"visible\":true,\"index\":22,\"script\":\"`post_mime_type`\"},\"comment_count\":{\"label\":\"comment_count\",\"visible\":true,\"index\":23,\"script\":\"`comment_count`\"}}}","report_admin_no_render":"0","report_show_vars":"0","report_show_sql_public":"0","report_show_footer":"0","sql_before_render":"","shortcode":"[report 4675|/base/post/post-si-meta :meta_key=\"sql\" :post_id= :post_status=\"publish|pending|draft\" :post_type=\"agdpreport\" :meta_value=\"@DBR\" :ORDER_BY=\"post_type\" :ASC=\"ASC\" :LIMIT=4]"}},"11":{"post":{"ID":4676,"post_author":"2","post_date":"2024-10-26 18:56:37","post_date_gmt":"2024-10-26 16:56:37","post_content":"","post_title":"Post \u003E Metas","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"metas","to_ping":"","pinged":"","post_modified":"2025-12-18 15:41:19","post_modified_gmt":"2025-12-18 14:41:19","post_content_filtered":"","post_parent":4800,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=4676","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SET @POST_ID = IF( @POST_ID IS NULL, IF( :post_id = '', @POSTID, :post_id) , @POST_ID);\r\nSELECT meta.*\r\nFROM @.posts post\r\nLEFT JOIN @.postmeta meta\r\nON post.ID = meta.post_id\r\nAND ( :meta_key = '' OR meta.meta_key = :meta_key)\r\nWHERE post.ID = @POST_ID\r\nAND ( :post_status = '' OR post.post_status IN ( :post_status%IN ) )\r\nAND ( :post_type = '' OR :post_type = post.post_type )\r\nAND ( :meta_value = '' OR meta.meta_value = :meta_value)\r\nORDER BY meta_key :ASC\r\nLIMIT :LIMIT%d","sql_variables":"{\"post_id\":{\"type\":\"integer\",\"value\":\"5154\"},\"meta_key\":{},\"post_status\":{\"type\":\"checkboxes\",\"options\":\"publish: Publié(e)\\npending: En attente\\ndraft: Brouillon\\ntrash: Corbeille\",\"value\":\"publish\"},\"post_type\":{\"type\":\"radio\",\"options\":\":(tous)\\npost: Article\\npage: Page\\nagdpreport: Rapport\"},\"meta_value\":{},\"ASC\":{\"type\":\"asc_desc\",\"options\":\"ASCnDESC\",\"value\":\"ASC\"},\"LIMIT\":{\"type\":\"integer\",\"value\":\"999\"}}","report_show_sql":"1","report_admin_no_escape":"0","report_admin_no_render":"0","report_show_vars":"0","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"1","report_css":"","table_render":"{\"caption\":{\"script\":\"@REPORTTITLE\"},\"columns\":{\"meta_id\":{\"thead_script\":\"meta_id\"},\"post_id\":{\"thead_script\":\"post_id\"},\"meta_key\":{\"thead_script\":\"meta_key\"},\"meta_value\":{\"thead_script\":\"meta_value\"}}}","report_show_footer":"0","report_show_sql_public":"0","sql_before_render":"","shortcode":""}},"12":{"post":{"ID":4668,"post_author":"2","post_date":"2024-10-25 16:29:14","post_date_gmt":"2024-10-25 14:29:14","post_content":"","post_title":"Post \u003E Commentaires \u003E Metas","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"post-commentaires-metas","to_ping":"","pinged":"","post_modified":"2024-11-15 18:32:11","post_modified_gmt":"2024-11-15 17:32:11","post_content_filtered":"","post_parent":4667,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=4668","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT meta.*\r\nFROM @.commentmeta meta\r\nINNER JOIN @.comments comment\r\nON meta.comment_id = comment.comment_id\r\nINNER JOIN @.posts post\r\nON post.ID = comment.comment_post_ID\r\nWHERE ( :post_id = '' OR post.ID = :post_id )\r\nAND ( :comment_id = '' || meta.comment_id = :comment_id )\r\nAND ( :meta_key = '' || meta.meta_key = :meta_key)\r\nORDER BY meta.meta_key ","sql_variables":"{\"post_id\":{\"type\":\"forum\",\"value\":\"/forums/ecopartage/abonnement-a-ecopartage\"},\"comment_id\":{\"type\":\"number\"},\"meta_key\":{\"type\":\"select\",\"options\":\"\\n1:un\\n2\\n3\"}}","report_show_sql":"0","report_admin_no_escape":"0","report_admin_no_render":"0","report_show_vars":"0","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"0","report_css":"","table_render":""}},"13":{"post":{"ID":4667,"post_author":"2","post_date":"2024-10-25 16:14:10","post_date_gmt":"2024-10-25 14:14:10","post_content":"","post_title":"Post \u003E Commentaire","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"post-commentaire","to_ping":"","pinged":"","post_modified":"2025-12-04 20:53:58","post_modified_gmt":"2025-12-04 19:53:58","post_content_filtered":"","post_parent":4800,"guid":"http://agdp.edoc2019/?post_type=agdpreport&#038;p=4667","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT comment.*\r\nFROM @.comments comment\r\nWHERE ( :comment_id = '' || comment.comment_id = :comment_id)\r\nAND ( :post_id = '' || comment.comment_post_ID = :post_id )\r\nORDER BY comment.comment_date DESC\r\nLIMIT :LIMIT","sql_variables":"{\"comment_id\":{\"type\":\"number\"},\"post_id\":{\"type\":\"number\",\"value\":\"3255\"},\"LIMIT\":{\"type\":\"number\",\"value\":\"50\"}}","report_show_sql":"0","report_admin_no_escape":"0","report_admin_no_render":"0","report_show_vars":"0","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"0","report_css":"","table_render":"","report_show_sql_public":"0","report_show_footer":"0","sql_before_render":"","shortcode":"[report 4667|/base/post/post-commentaire :comment_id= :post_id= :LIMIT=50]"}},"14":{"post":{"ID":4800,"post_author":"2","post_date":"2024-10-22 19:34:02","post_date_gmt":"2024-10-22 17:34:02","post_content":"","post_title":"Post","post_excerpt":"","post_status":"publish","comment_status":"closed","ping_status":"closed","post_password":null,"post_name":"post","to_ping":"","pinged":"","post_modified":"2025-12-01 22:24:05","post_modified_gmt":"2025-12-01 21:24:05","post_content_filtered":"","post_parent":4826,"guid":"http://agdp.edoc2019/blog/agdpreport/post/","menu_order":0,"post_type":"agdpreport","post_mime_type":"","comment_count":"0","filter":"raw"},"metas":{"sql":"SELECT post.*\r\nFROM @.posts post\r\nWHERE ( :post_id = '' OR post.ID = :post_id )\r\nAND ( :post_status = '' OR post.post_status IN ( :post_status%IN ) )\r\nAND ( :post_type = '' OR :post_type = post.post_type )\r\nORDER BY post.:ORDER_BY :ASC\r\nLIMIT :LIMIT%d;","sql_variables":"{\"post_id\":{\"type\":\"integer\"},\"post_status\":{\"type\":\"checkboxes\",\"options\":\"publish: Publié(e)\\npending: En attente\\ndraft: Brouillon\\ntrash: Corbeille\"},\"post_type\":{\"type\":\"radio\",\"options\":\":(tous)\\npost: Article\\npage: Page\\nagdpreport: Rapport\"},\"ORDER_BY\":{\"type\":\"field\",\"options\":\"post_date\",\"value\":\"post_date\"},\"ASC\":{\"type\":\"asc_desc\",\"options\":\"ASC\\nDESC\",\"value\":\"DESC\"},\"LIMIT\":{\"type\":\"integer\",\"value\":\"4\"}}","report_show_sql":"1","report_css":"","report_admin_no_escape":"1","report_show_caption":"0","report_show_indexes":"0","report_show_table_designer":"1","report_admin_no_render":"0","report_show_vars":"1","table_render":"{\"columns\":{\"ID\":{\"label\":\"ID\",\"visible\":true,\"index\":0,\"script\":\"CONCAT('\u003Ca class=\\\\\\\"dashicons-before dashicons-admin-page\\\\\\\" href=\\\\\\\"', `guid`, '\\\\\\\"\u003E', `ID`, '\u003C/a\u003E')\"},\"post_author\":{\"label\":\"post_author\",\"visible\":true,\"index\":1,\"script\":\"`post_author`\"},\"post_date\":{\"label\":\"post_date\",\"visible\":true,\"index\":2,\"script\":\"`post_date`\"},\"post_date_gmt\":{\"label\":\"post_date_gmt\",\"visible\":true,\"index\":3,\"script\":\"`post_date_gmt`\"},\"post_content\":{\"label\":\"post_content\",\"visible\":true,\"index\":4,\"script\":\"`post_content`\"},\"post_title\":{\"label\":\"post_title\",\"visible\":true,\"index\":5,\"script\":\"`post_title`\"},\"post_excerpt\":{\"label\":\"post_excerpt\",\"visible\":true,\"index\":6,\"script\":\"`post_excerpt`\"},\"post_status\":{\"label\":\"post_status\",\"visible\":true,\"index\":7,\"script\":\"`post_status`\"},\"comment_status\":{\"label\":\"comment_status\",\"visible\":true,\"index\":8,\"script\":\"`comment_status`\"},\"ping_status\":{\"label\":\"ping_status\",\"visible\":true,\"index\":9,\"script\":\"`ping_status`\"},\"post_password\":{\"label\":\"post_password\",\"visible\":true,\"index\":10,\"script\":\"`post_password`\"},\"post_name\":{\"label\":\"post_name\",\"visible\":true,\"index\":11,\"script\":\"`post_name`\"},\"to_ping\":{\"label\":\"to_ping\",\"visible\":true,\"index\":12,\"script\":\"`to_ping`\"},\"pinged\":{\"label\":\"pinged\",\"visible\":true,\"index\":13,\"script\":\"`pinged`\"},\"post_modified\":{\"label\":\"post_modified\",\"visible\":true,\"index\":14,\"script\":\"`post_modified`\"},\"post_modified_gmt\":{\"label\":\"post_modified_gmt\",\"visible\":true,\"index\":15,\"script\":\"`post_modified_gmt`\"},\"post_content_filtered\":{\"label\":\"post_content_filtered\",\"visible\":true,\"index\":16,\"script\":\"`post_content_filtered`\"},\"post_parent\":{\"label\":\"post_parent\",\"visible\":true,\"index\":17,\"script\":\"`post_parent`\"},\"guid\":{\"label\":\"guid\",\"visible\":true,\"index\":18,\"script\":\"`guid`\"},\"menu_order\":{\"label\":\"menu_order\",\"visible\":true,\"index\":19,\"script\":\"`menu_order`\"},\"post_type\":{\"label\":\"post_type\",\"visible\":true,\"index\":20,\"script\":\"`post_type`\"},\"post_mime_type\":{\"label\":\"post_mime_type\",\"visible\":true,\"index\":21,\"script\":\"`post_mime_type`\"},\"comment_count\":{\"label\":\"comment_count\",\"visible\":true,\"index\":22,\"script\":\"`comment_count`\"}}}","report_show_footer":"0"},"terms":{"report_style":{"84":"lignes-alternees"}}},"terms":[{"term":{"term_id":87,"name":"DASHICON","slug":"dashicon","term_group":0,"term_taxonomy_id":87,"taxonomy":"sql_function","description":"Retourne le html d’une icône (https://developer.wordpress.org/resource/dashicons).","parent":0,"count":0,"filter":"raw"},"metas":{"parameters":"`ICON` TEXT","return_type":"TEXT","body":"RETURN CONCAT('\u003Cspan class=\"dashicons-before dashicons-', `ICON`, '\"\u003E\u003C/span\u003E');","use_example":"DASHICON('yes')"}},{"term":{"term_id":95,"name":"EDICON","slug":"edicon","term_group":0,"term_taxonomy_id":95,"taxonomy":"sql_function","description":"Retourne le html d’une image pour un \"type\" donné","parent":0,"count":0,"filter":"raw"},"metas":{"parameters":"`VAR_TYPE` TEXT","return_type":"TEXT","body":"RETURN CONCAT('\u003Cspan class=\"edicon ed-', `VAR_TYPE`, '\"\u003E\u003C/span\u003E');","use_example":"SET @_imgs_ESNHZL = CAST(\"[{\\\"key\\\":\\\"0\\\",\\\"value\\\":\\\"Var\\\"},{\\\"key\\\":\\\"1\\\",\\\"value\\\":\\\"App\\\"},{\\\"key\\\":\\\"2\\\",\\\"value\\\":\\\"Type\\\"},{\\\"key\\\":\\\"3\\\",\\\"value\\\":\\\"LibVar\\\"},{\\\"key\\\":\\\"4\\\",\\\"value\\\":\\\"VarName\\\"},{\\\"key\\\":\\\"5\\\",\\\"value\\\":\\\"Name\\\"},{\\\"key\\\":\\\"6\\\",\\\"value\\\":\\\"Add\\\"},{\\\"key\\\":\\\"7\\\",\\\"value\\\":\\\"ReadOnly\\\"},{\\\"key\\\":\\\"8\\\",\\\"value\\\":\\\"Script\\\"},{\\\"key\\\":\\\"9\\\",\\\"value\\\":\\\"DataTable\\\"},{\\\"key\\\":\\\"10\\\",\\\"value\\\":\\\"Visual\\\"},{\\\"key\\\":\\\"11\\\",\\\"value\\\":\\\"Code\\\"},{\\\"key\\\":\\\"12\\\",\\\"value\\\":\\\"EDV\\\"},{\\\"key\\\":\\\"13\\\",\\\"value\\\":\\\"Button\\\"},{\\\"key\\\":\\\"14\\\",\\\"value\\\":\\\"VisualTrue\\\"},{\\\"key\\\":\\\"15\\\",\\\"value\\\":\\\"Web\\\"},{\\\"key\\\":\\\"16\\\",\\\"value\\\":\\\"Print\\\"},{\\\"key\\\":\\\"17\\\",\\\"value\\\":\\\"Component\\\"},{\\\"key\\\":\\\"18\\\",\\\"value\\\":\\\"File\\\"},{\\\"key\\\":\\\"19\\\",\\\"value\\\":\\\"Password\\\"},{\\\"key\\\":\\\"20\\\",\\\"value\\\":\\\"Object\\\"},{\\\"key\\\":\\\"21\\\",\\\"value\\\":\\\"Array\\\"},{\\\"key\\\":\\\"22\\\",\\\"value\\\":\\\"DateTime\\\"},{\\\"key\\\":\\\"23\\\",\\\"value\\\":\\\"Image\\\"},{\\\"key\\\":\\\"24\\\",\\\"value\\\":\\\"DomSys\\\"},{\\\"key\\\":\\\"25\\\",\\\"value\\\":\\\"Dom\\\"},{\\\"key\\\":\\\"26\\\",\\\"value\\\":\\\"Domain\\\"},{\\\"key\\\":\\\"27\\\",\\\"value\\\":\\\"Select\\\"},{\\\"key\\\":\\\"28\\\",\\\"value\\\":\\\"Link\\\"},{\\\"key\\\":\\\"29\\\",\\\"value\\\":\\\"Button\\\"},{\\\"key\\\":\\\"30\\\",\\\"value\\\":\\\"False\\\"},{\\\"key\\\":\\\"31\\\",\\\"value\\\":\\\"Bool\\\"},{\\\"key\\\":\\\"32\\\",\\\"value\\\":\\\"True\\\"},{\\\"key\\\":\\\"33\\\",\\\"value\\\":\\\"Function\\\"},{\\\"key\\\":\\\"34\\\",\\\"value\\\":\\\"Null\\\"},{\\\"key\\\":\\\"35\\\",\\\"value\\\":\\\"Num\\\"},{\\\"key\\\":\\\"36\\\",\\\"value\\\":\\\"String\\\"},{\\\"key\\\":\\\"37\\\",\\\"value\\\":\\\"Text\\\"},{\\\"key\\\":\\\"38\\\",\\\"value\\\":\\\"Color\\\"},{\\\"key\\\":\\\"39\\\",\\\"value\\\":\\\"Client\\\"},{\\\"key\\\":\\\"40\\\",\\\"value\\\":\\\"User\\\"},{\\\"key\\\":\\\"41\\\",\\\"value\\\":\\\"Plus\\\"},{\\\"key\\\":\\\"42\\\",\\\"value\\\":\\\"Minus\\\"}]\" AS JSON);\r\nSELECT CONCAT( EDICON( `value` ), `value`) AS `img`\r\nFROM JSON_TABLE( @_imgs_ESNHZL , \"$[*]\" COLUMNS( `key` TEXT PATH \"$.key\", `value` TEXT PATH \"$.value\" ) ) `imgs`"}},{"term":{"term_id":91,"name":"getPhpSerializedArrayAsJson","slug":"getphpserializedarrayasjson","term_group":0,"term_taxonomy_id":91,"taxonomy":"sql_function","description":"https://github.com/Nobiles2/MySQLToolBox/blob/master/getPhpSerializedArrayValueByKey.sql\r\nCOMMENT 'Function returns last value from serialized array by specific string key.'","parent":0,"count":0,"filter":"raw"},"metas":{"parameters":"_input_string TEXT","return_type":"JSON","use_example":"JSON_PRETTY( getPhpSerializedArrayAsJson('a:30:{s:25:\"blog_presentation_page_id\";s:1:\"2\";s:28:\"newsletter_subscribe_page_id\";s:4:\"2043\";s:28:\"newsletter_subscribe_form_id\";s:4:\"2074\";s:27:\"agdpforum_subscribe_form_id\";s:4:\"4640\";s:15:\"contact_page_id\";s:2:\"59\";s:15:\"contact_form_id\";s:3:\"100\";s:16:\"admin_nl_post_id\";s:4:\"3022\";s:14:\"agenda_page_id\";s:2:\"10\";s:21:\"new_agdpevent_page_id\";s:3:\"156\";s:22:\"agdpevent_edit_form_id\";s:2:\"31\";s:33:\"agdpevent_message_contact_form_id\";s:3:\"149\";s:29:\"admin_message_contact_form_id\";s:3:\"149\";s:17:\"events_nl_post_id\";s:4:\"2062\";s:31:\"agdpevents_nl_diffusion_term_id\";s:2:\"-1\";s:25:\"agdpevent_need_validation\";s:2:\"on\";s:19:\"covoiturage_managed\";s:2:\"on\";s:20:\"covoiturages_page_id\";s:4:\"3130\";s:23:\"new_covoiturage_page_id\";s:4:\"3133\";s:24:\"covoiturage_edit_form_id\";s:4:\"3129\";s:23:\"covoiturages_nl_post_id\";s:4:\"3289\";s:33:\"covoiturages_nl_diffusion_term_id\";s:2:\"43\";s:19:\"connect_menu_enable\";s:2:\"on\";s:14:\"maillog_enable\";s:2:\"on\";s:15:\"debuglog_enable\";s:2:\"on\";s:32:\"agdpevent_import_ics-post_status\";s:7:\"publish\";s:27:\"covoiturage_need_validation\";b:0;s:23:\"allow_html_in_agdpevent\";b:0;s:25:\"allow_html_in_covoiturage\";b:0;s:16:\"disable_sitemaps\";s:2:\"on\";s:28:\"agdpevent_import_ics-confirm\";i:487785537;}') )","body":"/*\r\n\t\tFunction returns last value from serialized array by specific string key.\r\n\t\t\r\n        see https://en.wikipedia.org/wiki/PHP_serialization_format\r\n        \r\n\t\t@author Emmanuel Durand inspired from Adam Wnęk (http://kredyty-chwilowki.pl/)\r\n\t\t@licence MIT\r\n\t\t@version 1.2\r\n\t*/\r\n\t-- required variables\r\n    DECLARE __output_part,__extra_byte_counter,__extra_byte_number,__array_part_temp TEXT;\r\n\tDECLARE __char_ord,__start,__char_counter,__non_multibyte_length,__array_close_bracket_counter,__array_open_bracket_counter, __close_bracket_position INT SIGNED;\r\n\t\t\t\r\n\tDECLARE __json, __json_item JSON;\r\n    DECLARE __open_bracket, __close_bracket, __begin_pos, __key_pos, __key_length, __value_length, __after_key, __after_value INT SIGNED;\r\n    DECLARE __key, __length, __key_type, __value_type, __value_class, __value TEXT;\r\n    DECLARE __value_bool BOOL;\r\n    DECLARE __value_int LONG;\r\n    DECLARE __value_float DOUBLE;\r\n    DECLARE __error, __debug TEXT DEFAULT '';\r\n    DECLARE __items INT UNSIGNED DEFAULT 0;\r\n    DECLARE __items_max INT UNSIGNED DEFAULT 999;\r\n    \r\n    SET __json = JSON_OBJECT();\r\n    \r\n    SET __open_bracket = LOCATE( '{', _input_string, 1 );\r\n    SET __close_bracket = LOCATE( '}', _input_string, __open_bracket );\r\n    SET __begin_pos = __open_bracket + 1;\r\n    \r\n    WHILE ( __error = ''\r\n           AND __begin_pos \u003E 0\r\n           AND __begin_pos \u003C __close_bracket\r\n           AND __items \u003C __items_max ) DO\r\n        \r\n        -- ---\r\n        -- Reset\r\n       SET __json_item = null;\r\n        \r\n        -- ---\r\n        -- Key\r\n        -- {s: or {i:\r\n        SET __after_key = LOCATE( ':', _input_string, __begin_pos + 1);\r\n        SET __key_type = SUBSTRING( _input_string, __begin_pos, __after_key - __begin_pos );\r\n        CASE __key_type\r\n        WHEN 'i' THEN\r\n        \tBEGIN\r\n                -- {i:0;\r\n                SET __begin_pos = __after_key + 1;\r\n                SET __after_key = LOCATE( ';', _input_string, __begin_pos);\r\n                SET __key = SUBSTRING( _input_string, __begin_pos, __after_key - __begin_pos );\r\n                SET __begin_pos = __after_key + 1;\r\n            END;\r\n        WHEN 's' THEN\r\n        \tBEGIN\r\n                -- {s:99:\r\n                SET __begin_pos = __after_key + 1;\r\n                SET __after_key = LOCATE( ':', _input_string, __begin_pos);\r\n                SET __key_length = SUBSTRING( _input_string, __begin_pos, __after_key - __begin_pos );\r\n                -- {s:99:\"key\"\r\n                SET __key = SUBSTRING( _input_string, __after_key + 1 + 1, __key_length );\r\n                SET __after_key = __after_key + __key_length + 2;\r\n                -- {s:99:\"key\";\r\n                SET __after_key = LOCATE( ';', _input_string, __after_key + 1);\r\n                SET __begin_pos = __after_key + 1;\r\n            END;\r\n        ELSE\r\n\t\t\tSET __json_item = JSON_OBJECT( '#unserialize ERROR', CONCAT(__key_type, '\" n\\'est pas un type analysé pour le champ clé. Proche de ', SUBSTRING( _input_string, __begin_pos, 20 ) ) );\r\n            \r\n\t\t\tRETURN JSON_MERGE_PRESERVE(__json, __json_item);\r\n            \r\n            RETURN JSON_OBJECT( '#ERROR', CONCAT(__key_type, '\" n\\'est pas un type analysé pour le champ clé. Proche de ', SUBSTRING( _input_string, __begin_pos, 20 ) ) );\r\n        END CASE;\r\n        \r\n        -- ---\r\n        -- Value\r\n        -- {s:99:\"key\";s:  {s:99:\"key\";N;\r\n        SET __after_value = LOCATE( ':', _input_string, __begin_pos);\r\n        SET __value_type = SUBSTRING( _input_string, __begin_pos, __after_value - __begin_pos );\r\n        IF SUBSTRING(__value_type, 1, 1) = 'N' THEN\r\n            SET __after_value = __begin_pos + 1;\r\n            SET __value_type = 'N';\r\n        END IF;\r\n        -- {s:99:\"key\";s:99:\r\n        SET __begin_pos = __after_value + 1;\r\n        -- {s:99:\"key\";s:99:\"value\";\r\n        CASE -- [s,a,b,O,i,d,N]\r\n        /* N : Null */\r\n        WHEN __value_type = 'N' THEN\r\n        \tBEGIN\r\n                SET __value = NULL;\r\n\t\t\t\tSET __json_item = JSON_OBJECT( __key, __value );\r\n            END;\r\n        /* b, i, d : Bool, Int, Float */\r\n        WHEN __value_type = 'b' \r\n          OR __value_type = 'i' \r\n          OR __value_type = 'd' THEN\r\n        \tBEGIN\r\n                -- {s:99:\"key\";b:1;\r\n        \t\tSET __after_value = LOCATE( ';', _input_string, __begin_pos);\r\n                SET __value = SUBSTRING( _input_string, __begin_pos, __after_value - __begin_pos );\r\n                SET __value_length = LENGTH( __value );\r\n        \r\n                CASE __value_type\r\n                WHEN 'b' THEN BEGIN SET __value_bool = __value; SET __json_item = JSON_OBJECT( __key, __value_bool ); END;\r\n                WHEN 'i' THEN BEGIN SET __value_int = __value; SET __json_item = JSON_OBJECT( __key, __value_int ); END;\r\n                WHEN 'f' THEN BEGIN SET __value_float = __value; SET __json_item = JSON_OBJECT( __key, __value_float ); END;\r\n                END CASE;\r\n\t\t\t\tSET __begin_pos = __after_value + 1;\r\n            END;\r\n        /* s : String */\r\n        WHEN __value_type = 's' THEN\r\n        \tBEGIN\r\n        \t\tSET __after_value = LOCATE( ':', _input_string, __begin_pos);\r\n                SET __value_length = SUBSTRING( _input_string, __begin_pos, __after_value - __begin_pos );\r\n                SET __begin_pos = __after_value + 2; -- \"\r\n                -- SET __value = SUBSTRING( _input_string, __begin_pos, __value_length );\r\n                \r\n                /* Analyse la suite (les caractères spéciaux prennent plus de place qu'indiquée) */\r\n\t\t\t\tSET __output_part := SUBSTRING(_input_string, __begin_pos, __value_length); -- toute la suite en plus long que nécessaire\r\n                SET __char_counter := 1;\r\n\t\t\t\r\n                -- real length to cut\r\n                SET __non_multibyte_length := 0;\r\n\r\n                SET __start := 0;\r\n                -- check every char until [__value_length]\r\n                WHILE __start \u003C __value_length DO\r\n\r\n                    SET __char_ord := ORD(SUBSTR(__output_part,__char_counter,1));\r\n\r\n                    SET __extra_byte_number := 0;\r\n                    SET __extra_byte_counter := FLOOR(__char_ord / 256);\r\n\r\n                    -- we detect multibytechars and count them as one to substring correctly\r\n                    -- when we now how many chars make multibytechar we can use it to count what is non multibyte length of our value\r\n                    WHILE __extra_byte_counter \u003E 0 DO\r\n                        SET __extra_byte_counter := FLOOR(__extra_byte_counter / 256);\r\n                        SET __extra_byte_number := __extra_byte_number+1;\r\n                    END WHILE;\r\n\r\n                    -- to every char i add extra multibyte number (for non multibyte char its 0)\r\n                    SET __start := __start + 1 + __extra_byte_number;\t\t\t\r\n                    SET __char_counter := __char_counter + 1;\r\n                    SET __non_multibyte_length := __non_multibyte_length +1;\r\n\r\n                END WHILE;\r\n                SET __value :=  SUBSTRING(__output_part,1,__non_multibyte_length);\r\n                SET __value_length := __non_multibyte_length;\r\n                \r\n                /*  */\r\n        \t\tSET __after_value = LOCATE( ';', _input_string, __begin_pos + __value_length + 1);\r\n\t\t\t\tSET __begin_pos = __after_value + 1;\r\n                \r\n                IF( LOCATE( '}', __value) \u003E 0 ) THEN\r\n                \tSET __close_bracket = LOCATE( '}', _input_string, __begin_pos);\r\n                END IF;\r\n\t\t\t\t\r\n\t\t\t\t-- SET __value :=  REPLACE(__value, \"\\r\", \"\\\\r\");\r\n\t\t\t\t-- SET __value :=  REPLACE(__value, \"\\n\", \"\\\\n\");\r\n                \r\n\t\t\t\tSET __json_item = JSON_OBJECT( __key, __value );\r\n            END;\r\n        /* a : Array */\r\n        WHEN __value_type = 'a' THEN \r\n        \tBEGIN\r\n        \t\tSET __after_value = LOCATE( '{', _input_string, __begin_pos);\r\n                SET __value_length = SUBSTRING( _input_string, __begin_pos, __after_value - __begin_pos ); -- array size\r\n                SET __begin_pos = __after_value; -- {\r\n                \r\n        \t\t-- we get proper array by counting open and close brackets\r\n                SET __array_open_bracket_counter := 1;\r\n                SET __array_close_bracket_counter := 0;\r\n                -- without first open { so counter is 1\r\n                SET __array_part_temp := SUBSTRING(_input_string, __begin_pos + 1);\r\n\t\t\t\tSET __after_value = __begin_pos + 1;\r\n                \r\n                -- we start from first { and counting open and closet brackets until we find last closing one\r\n                WHILE (__array_open_bracket_counter \u003E 0 AND LENGTH(__array_part_temp) \u003E 0) DO\r\n                    -- next { exists and its before closest }\r\n                    IF LOCATE('{',__array_part_temp) \u003E 0 AND (LOCATE('{',__array_part_temp) \u003C LOCATE('}',__array_part_temp)) THEN\r\n                        -- cut from found { + 1, to the end\r\n                        SET __array_open_bracket_counter := __array_open_bracket_counter + 1;\r\n                        SET __after_value = __after_value + LOCATE('{',__array_part_temp);\r\n                        SET __array_part_temp := SUBSTRING(__array_part_temp FROM LOCATE('{',__array_part_temp) + 1);\t\t\t\t\t\r\n                    ELSE\r\n                        -- cut from found } + 1, to the end\r\n                        SET __array_open_bracket_counter := __array_open_bracket_counter - 1;\r\n                        SET __array_close_bracket_counter := __array_close_bracket_counter + 1;\r\n                        \r\n                        SET __close_bracket_position = LOCATE('}',__array_part_temp);\r\n                        SET __array_part_temp := SUBSTRING(__array_part_temp FROM LOCATE('}',__array_part_temp) + 1);\r\n                        SET __after_value = __after_value + __close_bracket_position;\r\n                    END IF;\r\n                END WHILE;\r\n                -- final array is from beginning to [__array_close_bracket_counter] count of closing }\r\n                SET __value := CONCAT(SUBSTRING_INDEX( SUBSTRING(_input_string, __begin_pos) ,'}',__array_close_bracket_counter),'}');\r\n                SET __value := CONCAT(__value_type, ':', __value_length, ':', __value);\r\n                \r\n                SET __close_bracket = LOCATE( '}', _input_string, __after_value );\r\n                SET __begin_pos = __after_value;\r\n\t\t\t\t\r\n\t\t\t\t-- SET __value :=  REPLACE(__value, \"\\r\", \"\\\\r\");\r\n\t\t\t\t-- SET __value :=  REPLACE(__value, \"\\n\", \"\\\\n\");\r\n        \r\n\t\t\t\tSET __json_item = JSON_OBJECT( __key, __value );\r\n            END;\r\n        /* O : Object */\r\n        WHEN __value_type = 'O' THEN \r\n        \tBEGIN\r\n            \t-- O:8:\"stdClass\":2:{s:2:\"o1\";s:3:\"O 1\";s:2:\"o2\";s:3:\"O 2\";}\r\n        \t\tSET __after_value = LOCATE( ':', _input_string, __begin_pos);\r\n                SET __value_length = SUBSTRING( _input_string, __begin_pos, __after_value - __begin_pos );\r\n                SET __begin_pos = __after_value + 1;\r\n                SET __after_value = LOCATE( ':', _input_string, __begin_pos);\r\n                SET __value_class = SUBSTRING( _input_string, __begin_pos + 1, __after_value - __begin_pos - 2 );\r\n                SET __begin_pos = __after_value + 1;\r\n                SET __after_value = LOCATE( '{', _input_string, __begin_pos);\r\n                SET __value_length = SUBSTRING( _input_string, __begin_pos, __after_value - __begin_pos );\r\n                SET __begin_pos = __after_value; -- {\r\n                \r\n        \t\t-- we get proper array by counting open and close brackets\r\n                SET __array_open_bracket_counter := 1;\r\n                SET __array_close_bracket_counter := 0;\r\n                -- without first open { so counter is 1\r\n                SET __array_part_temp := SUBSTRING(_input_string, __begin_pos + 1);\r\n\t\t\t\tSET __after_value = __begin_pos + 1;\r\n                \r\n                -- we start from first { and counting open and closet brackets until we find last closing one\r\n                WHILE (__array_open_bracket_counter \u003E 0 AND LENGTH(__array_part_temp) \u003E 0) DO\r\n                    -- next { exists and its before closest }\r\n                    IF LOCATE('{',__array_part_temp) \u003E 0 AND (LOCATE('{',__array_part_temp) \u003C LOCATE('}',__array_part_temp)) THEN\r\n                        -- cut from found { + 1, to the end\r\n                        SET __array_open_bracket_counter := __array_open_bracket_counter + 1;\r\n                        SET __after_value = __after_value + LOCATE('{',__array_part_temp);\r\n                        SET __array_part_temp := SUBSTRING(__array_part_temp FROM LOCATE('{',__array_part_temp) + 1);\t\t\t\t\t\r\n                    ELSE\r\n                        -- cut from found } + 1, to the end\r\n                        SET __array_open_bracket_counter := __array_open_bracket_counter - 1;\r\n                        SET __array_close_bracket_counter := __array_close_bracket_counter + 1;\r\n                        \r\n                        SET __close_bracket_position = LOCATE('}',__array_part_temp);\r\n                        SET __array_part_temp := SUBSTRING(__array_part_temp FROM LOCATE('}',__array_part_temp) + 1);\r\n                        SET __after_value = __after_value + __close_bracket_position;\r\n                    END IF;\r\n                END WHILE;\r\n                -- final array is from beginning to [__array_close_bracket_counter] count of closing }\r\n                SET __value := CONCAT(SUBSTRING_INDEX( SUBSTRING(_input_string, __begin_pos) ,'}',__array_close_bracket_counter),'}');\r\n                SET __value := CONCAT(__value_type, ':', LENGTH(__value_class), ':\"', __value_class, '\":', __value_length, ':', __value);\r\n                \r\n                SET __close_bracket = LOCATE( '}', _input_string, __after_value );\r\n                SET __begin_pos = __after_value;\r\n\t\t\t\t\r\n\t\t\t\t-- SET __value :=  REPLACE(__value, \"\\r\", \"\\\\r\");\r\n\t\t\t\t-- SET __value :=  REPLACE(__value, \"\\n\", \"\\\\n\");\r\n        \r\n\t\t\t\tSET __json_item = JSON_OBJECT( __key, __value );\r\n            END;\r\n        ELSE\r\n            -- SET __error = CONCAT('Erreur : \"', __value_type, '\" n\\'est pas un type analysé.');\r\n\t\t\t\tSET __json_item = JSON_OBJECT( '#unserialize ERROR', CONCAT('Erreur : \"', __value_type, '\" n\\'est pas un type analysé.') );\r\n        END CASE;\r\n        \r\n\t\tIF __error != '' THEN\r\n        \tRETURN CONCAT(__error\r\n                          , '\\nDEBUG : ', JSON_PRETTY( JSON_OBJECT('__value_type', __value_type, '__value_length', __value_length ) )\r\n                          , '\\nJSON : ', JSON_PRETTY( __json )\r\n        \t);\r\n        END IF;\r\n        \r\n        IF( NOT __json_item IS NULL ) THEN\r\n\t\t\tSET __json = JSON_MERGE_PRESERVE(__json, __json_item);\r\n\t\tEND IF;\r\n        \r\n        IF SUBSTRING( _input_string, __begin_pos, 1 ) = '}' THEN\r\n        \tSET __begin_pos = -1;\r\n        -- ELSE\r\n        \t-- SET __error = SUBSTRING( _input_string, __begin_pos );\r\n        END IF;\r\n        \r\n        SET __items = __items + 1;\r\n\tEND WHILE;\r\n\r\n\tIF __items \u003E= __items_max THEN\r\n        SET __error = 'INFINITE LOOP';\r\n    END IF;\r\n    \r\n    IF __debug != '' THEN\r\n        RETURN JSON_OBJECT( '__debug', __debug );\r\n    END IF;\r\n\tIF __error != '' THEN\r\n        RETURN JSON_OBJECT( 'ERROR', CONCAT(__error\r\n                          , '\\nJSON ; ', JSON_PRETTY( __json )\r\n                      \t  , '\\n_input_string ; ', _input_string\r\n        ));\r\n    END IF;\r\n    \r\n    RETURN __json;"}},{"term":{"term_id":93,"name":"getPhpSerializedArrayAsKeyValueTable","slug":"getphpserializedarrayaskeyvaluetable","term_group":0,"term_taxonomy_id":93,"taxonomy":"sql_function","description":"","parent":0,"count":0,"filter":"raw"},"metas":{"body":"/*\r\n\tFunction returns last value from serialized array by specific string key.\r\n\t\t\r\n\tsee https://en.wikipedia.org/wiki/PHP_serialization_format\r\n        \r\n\t@author Emmanuel Durand inspired from Adam Wnęk (http://kredyty-chwilowki.pl/)\r\n\t@licence MIT\r\n\t@version 1.2\r\n*/\r\n\t-- required variables\r\n\tDECLARE __json, __json_keys, __json_KV, __json_item JSON;\r\n    DECLARE __index, __length INT UNSIGNED DEFAULT 0;\r\n    DECLARE __key, __value TEXT;\r\n    SET __json = getPhpSerializedArrayAsJson(`_input_string`);\r\n    SET __json_keys = JSON_KEYS(__json);\r\n    SET __json_KV = JSON_ARRAY();\r\n    \r\n    SET __length = JSON_LENGTH(__json);\r\n    WHILE __index \u003C __length DO\r\n        SET __key = JSON_EXTRACT(__json_keys, CONCAT(\"$[\", __index, \"]\"));\r\n        IF NOT __key IS NULL AND  __key != '' THEN\r\n            SET __value = JSON_UNQUOTE( JSON_EXTRACT(__json, CONCAT(\"$[0].\", __key)));\r\n            SET __json_item = JSON_OBJECT('key', JSON_UNQUOTE(__key), 'value', __value);\r\n\r\n            SET __json_KV = JSON_MERGE_PRESERVE(__json_KV, __json_item);\r\n\t\tEND IF;\r\n        SET __index = __index + 1;\r\n   END WHILE;\r\n    \r\n    RETURN __json_KV;","parameters":"`_input_string` TEXT","return_type":"JSON","use_example":"SET @JSO = getPhpSerializedArrayAsKeyValueTable( 'a:30:{s:25:\"blog_presentation_page_id\";s:1:\"2\";s:28:\"newsletter_subscribe_page_id\";s:4:\"2043\";s:28:\"newsletter_subscribe_form_id\";s:4:\"2074\";s:27:\"agdpforum_subscribe_form_id\";s:4:\"4640\";s:15:\"contact_page_id\";s:2:\"59\";s:15:\"contact_form_id\";s:3:\"100\";s:16:\"admin_nl_post_id\";s:4:\"3022\";s:14:\"agenda_page_id\";s:2:\"10\";s:21:\"new_agdpevent_page_id\";s:3:\"156\";s:22:\"agdpevent_edit_form_id\";s:2:\"31\";s:33:\"agdpevent_message_contact_form_id\";s:3:\"149\";s:29:\"admin_message_contact_form_id\";s:3:\"149\";s:17:\"events_nl_post_id\";s:4:\"2062\";s:31:\"agdpevents_nl_diffusion_term_id\";s:2:\"-1\";s:25:\"agdpevent_need_validation\";s:2:\"on\";s:19:\"covoiturage_managed\";s:2:\"on\";s:20:\"covoiturages_page_id\";s:4:\"3130\";s:23:\"new_covoiturage_page_id\";s:4:\"3133\";s:24:\"covoiturage_edit_form_id\";s:4:\"3129\";s:23:\"covoiturages_nl_post_id\";s:4:\"3289\";s:33:\"covoiturages_nl_diffusion_term_id\";s:2:\"43\";s:19:\"connect_menu_enable\";s:2:\"on\";s:14:\"maillog_enable\";s:2:\"on\";s:15:\"debuglog_enable\";s:2:\"on\";s:32:\"agdpevent_import_ics-post_status\";s:7:\"publish\";s:27:\"covoiturage_need_validation\";b:0;s:23:\"allow_html_in_agdpevent\";b:0;s:25:\"allow_html_in_covoiturage\";b:0;s:16:\"disable_sitemaps\";s:2:\"on\";s:28:\"agdpevent_import_ics-confirm\";i:487785537;}');\r\nSELECT * FROM JSON_TABLE( @JSO, \"$[*]\" COLUMNS( `key` TEXT PATH \"$.key\", `value` TEXT PATH \"$.value\" ) ) `JSON`"}},{"term":{"term_id":90,"name":"getPhpSerializedArrayValueByKey","slug":"getphpserializedarrayvaluebykey","term_group":0,"term_taxonomy_id":90,"taxonomy":"sql_function","description":"https://github.com/Nobiles2/MySQLToolBox/blob/master/getPhpSerializedArrayValueByKey.sql\r\nCOMMENT 'Function returns last value from serialized array by specific string key.'","parent":0,"count":0,"filter":"raw"},"metas":{"parameters":"_input_string TEXT, _key TEXT","return_type":"TEXT CHARSET utf8","body":"/*\r\n\t\tFunction returns last value from serialized array by specific string key.\r\n\t\t\r\n\t\t@author Adam Wnęk (http://kredyty-chwilowki.pl/)\r\n\t\t@licence MIT\r\n\t\t@version 1.2\r\n\t*/\r\n\t-- required variables\r\n\tDECLARE __output_part,__output,__extra_byte_counter,__extra_byte_number,__value_type,__array_part_temp TEXT;\r\n\tDECLARE __value_length,__char_ord,__start,__char_counter,__non_multibyte_length,__array_close_bracket_counter,__array_open_bracket_counter INT SIGNED;\r\n\tSET __output := NULL;\r\n\t\r\n\t-- check if key exists in input\r\n\t-- key as an index\r\n    IF _key REGEXP '^[0-9]+$' THEN\r\n    \tIF LOCATE(CONCAT('i:',_key,';'), _input_string) = 0 THEN\r\n            IF LOCATE(CONCAT('s:',LENGTH(_key),':\"',_key,'\";'), _input_string) != 0 THEN\r\n                -- cut from right to key\t\t\r\n                SET __output_part := SUBSTRING_INDEX(_input_string,CONCAT('s:',LENGTH(_key),':\"',_key,'\";'),-1);\r\n            ELSE\r\n\t        \tRETURN '';\r\n            END IF;\r\n        ELSE\r\n            -- cut from right to key\t\t\r\n            SET __output_part := SUBSTRING_INDEX(_input_string, CONCAT('i:',_key,';'),-1);\r\n\r\n        END IF;\r\n        \r\n\t-- key as an string\r\n    ELSE\r\n    \tIF LOCATE(CONCAT('s:',LENGTH(_key),':\"',_key,'\";'), _input_string) != 0 THEN\r\n            -- cut from right to key\t\t\r\n            SET __output_part := SUBSTRING_INDEX(_input_string,CONCAT('s:',LENGTH(_key),':\"',_key,'\";'),-1);\r\n\t\tEND IF;\r\n\tEND IF;\r\n    \r\n    IF __output_part != '' THEN\r\n\t\t-- get type of value [s,a,b,O,i,d]\r\n\t\tSET __value_type := SUBSTRING(SUBSTRING(__output_part, 1, CHAR_LENGTH(SUBSTRING_INDEX(__output_part,';',1))), 1, 1);\r\n\t\t\r\n\t\t-- custom cut depends of value type\r\n\t\tCASE \t\r\n\t\tWHEN __value_type = 'a' THEN\r\n\t\t\t-- we get proper array by counting open and close brackets\r\n\t\t\tSET __array_open_bracket_counter := 1;\r\n\t\t\tSET __array_close_bracket_counter := 0;\r\n\t\t\t-- without first open { so counter is 1\r\n\t\t\tSET __array_part_temp := SUBSTRING(__output_part FROM LOCATE('{',__output_part)+1);\r\n\t\t\t\r\n\t\t\t-- we start from first { and counting open and closet brackets until we find last closing one\r\n\t\t\tWHILE (__array_open_bracket_counter \u003E 0 OR LENGTH(__array_part_temp) = 0) DO\r\n\t\t\t\t-- next { exists and its before closest }\r\n\t\t\t\tIF LOCATE('{',__array_part_temp) \u003E 0 AND (LOCATE('{',__array_part_temp) \u003C LOCATE('}',__array_part_temp)) THEN\r\n\t\t\t\t\t-- cut from found { + 1, to the end\r\n\t\t\t\t\tSET __array_open_bracket_counter := __array_open_bracket_counter + 1;\r\n\t\t\t\t\tSET __array_part_temp := SUBSTRING(__array_part_temp FROM LOCATE('{',__array_part_temp) + 1);\t\t\t\t\t\r\n\t\t\t\tELSE\r\n\t\t\t\t\t-- cut from found } + 1, to the end\r\n\t\t\t\t\tSET __array_open_bracket_counter := __array_open_bracket_counter - 1;\r\n\t\t\t\t\tSET __array_close_bracket_counter := __array_close_bracket_counter + 1;\r\n\t\t\t\t\tSET __array_part_temp := SUBSTRING(__array_part_temp FROM LOCATE('}',__array_part_temp) + 1);\t\t\t\t\t\r\n\t\t\t\tEND IF;\r\n\t\t\tEND WHILE;\r\n\t\t\t-- final array is from beginning to [__array_close_bracket_counter] count of closing }\r\n\t\t\tSET __output := CONCAT(SUBSTRING_INDEX(__output_part,'}',__array_close_bracket_counter),'}');\r\n\t\t\t\r\n\t\tWHEN __value_type = 'd' OR __value_type = 'i' OR __value_type = 'b' THEN\r\n\t\t\t\r\n\t\t\t-- from left to first appearance of }, from right to first :\r\n\t\t\tSET __output := SUBSTRING_INDEX(SUBSTRING_INDEX(__output_part,';',1),':',-1);\r\n\t\t\t\r\n\t\tWHEN __value_type = 'O' THEN\t\t\t\r\n\t\t\t\r\n\t\t\t-- from left to first appearance of ;} but without it so we add it back\r\n\t\t\tSET __output := CONCAT(SUBSTRING_INDEX(__output_part,';}',1),';}');\r\n\t\t\t\r\n\t\tWHEN __value_type = 'N' THEN \r\n            -- when we have null return empty string\r\n            SET __output := NULL;\t\t\r\n\t\tELSE\r\n\t\t\t\r\n\t\t\t-- get serialized length\r\n\t\t\tSET __value_length := SUBSTRING_INDEX(SUBSTRING_INDEX(SUBSTRING_INDEX(__output_part, ':', 2),':',-1),';',1);\r\n\t\t\t\r\n\t\t\t-- s:10:\" -\u003E 7 because we start after \"\r\n\t\t\t-- we cut from the begin of our value to the end\r\n\t\t\t-- begin of our string is after: s[1] + :[1] + n[length of number] + :[1] + \"[1] + [1](begin after \") = 5+n\t\t\t\r\n\t\t\tSET __output_part := SUBSTRING(__output_part, 5+LENGTH(__value_length));\r\n\t\t\t\r\n\t\t\tSET __char_counter := 1;\r\n\t\t\t\r\n\t\t\t-- real length to cut\r\n\t\t\tSET __non_multibyte_length := 0;\r\n\t\t\t\r\n\t\t\tSET __start := 0;\r\n\t\t\t-- check every char until [__value_length]\r\n\t\t\tWHILE __start \u003C __value_length DO\r\n\t\t\t\r\n\t\t\t\tSET __char_ord := ORD(SUBSTR(__output_part,__char_counter,1));\r\n\t\t\t\t\r\n\t\t\t\tSET __extra_byte_number := 0;\r\n\t\t\t\tSET __extra_byte_counter := FLOOR(__char_ord / 256);\r\n\t\t\t\t\r\n\t\t\t\t-- we detect multibytechars and count them as one to substring correctly\r\n\t\t\t\t-- when we now how many chars make multibytechar we can use it to count what is non multibyte length of our value\r\n\t\t\t\tWHILE __extra_byte_counter \u003E 0 DO\r\n\t\t\t\t\tSET __extra_byte_counter := FLOOR(__extra_byte_counter / 256);\r\n\t\t\t\t\tSET __extra_byte_number := __extra_byte_number+1;\r\n\t\t\t\tEND WHILE;\r\n\t\t\t\t\r\n\t\t\t\t-- to every char i add extra multibyte number (for non multibyte char its 0)\r\n\t\t\t\tSET __start := __start + 1 + __extra_byte_number;\t\t\t\r\n\t\t\t\tSET __char_counter := __char_counter + 1;\r\n\t\t\t\tSET __non_multibyte_length := __non_multibyte_length +1;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\tEND WHILE;\r\n\t\t\t\r\n\t\t\tSET __output :=  SUBSTRING(__output_part,1,__non_multibyte_length);\r\n\t\t\t\t\t\r\n\t\tEND CASE;\t\t\r\n\tEND IF;\r\n\tRETURN __output;","use_example":"SELECT getPhpSerializedArrayValueByKey( \"a:1:{i:0;s:1:\\\"2\\\";}\", \"0\" ) "}},{"term":{"term_id":94,"name":"INPUT","slug":"input","term_group":0,"term_taxonomy_id":94,"taxonomy":"sql_function","description":"","parent":0,"count":1,"filter":"raw"},"metas":{"parameters":"`_name` TEXT, `_value` TEXT, `_type` TEXT, `_attrs` JSON","return_type":"TEXT","body":"DECLARE __html, __attrs, __key, __value TEXT DEFAULT '';\r\nDECLARE __index, __length INT DEFAULT 0;\r\nDECLARE __json_keys JSON;\r\n\r\nIF _attrs IS NULL THEN\r\n    SET __attrs = '';\r\nELSE\r\n    SET __json_keys = JSON_KEYS(`_attrs`);\r\n    SET __length = JSON_LENGTH(__json_keys);\r\n    WHILE __index \u003C __length DO\r\n        SET __key = JSON_EXTRACT(__json_keys, CONCAT(\"$[\", __index, \"]\"));\r\n        IF NOT __key IS NULL AND  __key != '' THEN\r\n            SET __value = JSON_UNQUOTE( JSON_EXTRACT(_attrs, CONCAT(\"$[0].\", __key)));\r\n         SET __key = JSON_UNQUOTE(__key);\r\n         SET __attrs = CONCAT( __attrs, ' ', __key, '=\"', REPLACE(__value, '\"', '&quot;'), '\"');\r\n      END IF;\r\n      SET __index = __index + 1;\r\n   END WHILE;\r\nEND IF;\r\nIF _type = 'textarea' THEN\r\n    SET __html = CONCAT('\u003Ctextarea'\r\n    , ' name=\"', _name, '\"'\r\n    , __attrs\r\n    , '\u003E'\r\n    , _value\r\n    , '\u003C/textarea\u003E'\r\n    );\r\nELSE\r\n    SET __html = CONCAT('\u003Cinput'\r\n    , ' type=\"', _type, '\"'\r\n    , ' name=\"', _name, '\"'\r\n    , ' value=\"', REPLACE(_value, '\"', '&quot;'), '\"'\r\n    , __attrs\r\n    , '\u003E'\r\n    );\r\nEND IF;\r\n  RETURN __html;","use_example":"INPUT('data', 'xxx', 'textarea', JSON_OBJECT('style', 'background-color: green;'))"}},{"term":{"term_id":89,"name":"LABEL","slug":"label","term_group":0,"term_taxonomy_id":89,"taxonomy":"sql_function","description":"Retourne le Html d'un label avec une icône","parent":0,"count":0,"filter":"raw"},"metas":{"parameters":"`LABEL` TEXT, `ICON` TEXT","return_type":"TEXT","body":"RETURN CONCAT('\u003Clabel\u003E'\r\n, IF(NOT `ICON` IS NULL AND `ICON` != ''\r\n   , CONCAT('\u003Cspan class=\"dashicons-before dashicons-', `ICON`, '\"\u003E\u003C/span\u003E'), '')\r\n  , `LABEL`\r\n, '\u003C/label\u003E')","use_example":"LABEL('Hello', 'site')"}},{"term":{"term_id":92,"name":"Largeur adaptée de 1ère colonne","slug":"largeur-adaptee-de-1ere-colonne","term_group":0,"term_taxonomy_id":92,"taxonomy":"report_style","description":"table td:first-of-type, table th:first-of-type {\r\nwidth: 0px;\r\n}","parent":0,"count":2,"filter":"raw"},"metas":[]},{"term":{"term_id":84,"name":"Lignes alternées","slug":"lignes-alternees","term_group":0,"term_taxonomy_id":84,"taxonomy":"report_style","description":"table &gt; * &gt; tr:nth-child(even) &gt; * {\r\n    background-color: rgb(211, 209, 186);\r\n}\r\nbody.colors-dark table &gt; * &gt; tr:nth-child(even) &gt; * {\r\n    background-color: rgb(55, 54, 48);\r\n}","parent":0,"count":5,"filter":"raw"},"metas":[]},{"term":{"term_id":73,"name":"Lignes horizontales","slug":"lignes-horizontales","term_group":0,"term_taxonomy_id":73,"taxonomy":"report_style","description":"table td, table th {\r\n  border: none;\r\n  border-bottom: solid 2px black;\r\n}","parent":0,"count":3,"filter":"raw"},"metas":[]},{"term":{"term_id":74,"name":"Première cellule seule","slug":"premiere-cellule-seule","term_group":0,"term_taxonomy_id":74,"taxonomy":"report_style","description":"table &gt; thead &gt; tr, table &gt; tbody &gt; tr, table &gt; tfoot {\r\n  display: none;\r\n}\r\ntable.report_table_designer &gt; thead &gt; tr, table.report_table_designer &gt; tbody &gt; tr {\r\n  display: table-row;\r\n}\r\ntable.report_table_designer &gt; thead &gt; tr {\r\n  opacity: 60%;\r\n}\r\ntable &gt; tbody &gt; tr.report_table_designer {\r\n  display: table-row;\r\n}\r\ntable &gt; tbody &gt; tr:not(.report_table_designer) {\r\n  display: table-row;\r\n}\r\ntable &gt; tbody &gt; tr:not(.report_table_designer) ~tr {\r\n  display: none;\r\n}\r\n","parent":0,"count":0,"filter":"raw"},"metas":[]},{"term":{"term_id":86,"name":"REPORT_TOGGLE","slug":"report_toggle","term_group":0,"term_taxonomy_id":86,"taxonomy":"sql_function","description":"Retourne le html d'un toggler vers un sous-rapport.","parent":0,"count":0,"filter":"raw"},"metas":{"parameters":"`REPORT_ID` TEXT, `TITLE` TEXT, `VARS_JSON` JSON","return_type":"TEXT","body":"IF( `TITLE` IS NULL || `TITLE` = '' ) THEN\r\n  SET `TITLE` = '&nbsp;';\r\nEND IF;\r\n\r\nIF( (`REPORT_ID` IS NULL || `REPORT_ID` = 0)\r\n  AND `VARS_JSON` IS NULL ) THEN\r\n  RETURN CONCAT(\r\n    '\u003Clabel class=\"toggle-trigger active\"\u003E'\r\n    , /*'\u003Ca href=\"#\" debug=1\u003E',*/ TITLE/*, '\u003C/a\u003E'*/\r\n    , '\u003C/label\u003E');\r\nEND IF;\r\n\r\nSET @DATA = JSON_OBJECT( 'sql_variables', CAST( `VARS_JSON` AS JSON ) );\r\nSET @DATA = JSON_OBJECT( \r\n    'action', 'agendapartage_report_action',\r\n    'method', 'report_html',\r\n    'data[parent_post]', @POSTID,\r\n    'data[report_id]', `REPORT_ID`,\r\n    'data[sql_variables]', `VARS_JSON`\r\n);\r\nSET @DATA = REPLACE( @DATA, '\"', '&quot;');\r\n\r\nRETURN CONCAT(\r\n    '\u003Clabel class=\"toggle-trigger\" ajax=1'\r\n    \t, ' data=\"', @DATA, '\"\u003E'\r\n        , /*'\u003Ca href=\"#\" debug=2\u003E',*/ TITLE/*, '\u003C/a\u003E'*/\r\n    , '\u003C/label\u003E');","use_example":"REPORT_TOGGLE(\r\n'/tutoriels/taxonomies/taxonomie-termes'\r\n, 'sql_function'\r\n, JSON_OBJECT('taxonomy', 'sql_function')\r\n)"}},{"term":{"term_id":88,"name":"Sans en-têtes de colonnes","slug":"sans-en-tetes-de-colonnes","term_group":0,"term_taxonomy_id":88,"taxonomy":"report_style","description":"table &gt; thead &gt; tr {\r\n  display: none;\r\n}\r\ntable.report_table_designer &gt; thead &gt; tr {\r\n  display: table-row;\r\n  opacity: 60%;\r\n}","parent":0,"count":4,"filter":"raw"},"metas":[]},{"term":{"term_id":96,"name":"Table sans bordure","slug":"table-sans-bordure","term_group":0,"term_taxonomy_id":96,"taxonomy":"report_style","description":"table, table tr, table th, table td {\r\n  border: none !important;\r\n}\r\ntable td {\r\n  vertical-align: top;\r\n}","parent":0,"count":4,"filter":"raw"},"metas":[]}],"taxonomies":{"sql_function":"sql_function","report_style":"report_style"}}